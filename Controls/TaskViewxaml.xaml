<UserControl x:Class="BetterClicker.Controls.TaskViewxaml"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:local="clr-namespace:BetterClicker.Controls"
             mc:Ignorable="d"
             d:DesignHeight="519" d:DesignWidth="1016" BorderBrush="Black" Background="#FFF0F0F0">
    <Grid x:Name="mainGrid" Loaded="Grid_Loaded" KeyUp="mainGrid_KeyUp" Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="200"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Row 0: OverTask Selection -->
        <Grid Grid.Row="0" Margin="0,0,0,8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <ComboBox x:Name="overTaskDataGrid" IsEditable="True" Grid.Column="0" Height="26" Margin="0,0,8,0"/>
            <TextBox x:Name="overTaskNameTextBox" Grid.Column="1" Height="23" Width="150" Margin="0,0,8,0" LostFocus="overTaskNameTextBox_LostFocus"/>
            <StackPanel Grid.Column="2" Orientation="Horizontal" Margin="0,0,8,0" VerticalAlignment="Center">
                <Label Content="Repeat:" Padding="0" VerticalAlignment="Center" Margin="0,0,4,0"/>
                <TextBox x:Name="repeatCountTextBox" Height="23" Width="40" LostFocus="repeatCountTextBox_LostFocus" PreviewTextInput="repeatCountTextBox_PreviewTextInput" VerticalAlignment="Center"/>
            </StackPanel>
            <Button Content="+" Grid.Column="3" Width="30" Height="26" Margin="0,0,4,0" Click="Button_Click_1" ToolTip="Add new OverTask"/>
            <Button x:Name="deleteOvertaskButton" Content="X" Grid.Column="4" Width="30" Height="26" Margin="0,0,8,0" Click="deleteOvertaskButton_Click" ToolTip="Delete OverTask"/>
            <Button x:Name="saveConfigButton" Content="Save config" Grid.Column="5" Width="90" Height="26" Click="saveConfigButton_Click"/>
        </Grid>

        <!-- Row 1: FullTask ComboBox and options -->
        <Grid Grid.Row="1" Margin="0,0,0,8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Label Content="Add from library:" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,8,0"/>
            <ComboBox x:Name="fullTaskComboBox" Grid.Column="1" Height="26" Margin="0,0,8,0"/>
            <Button x:Name="addTaskFromComboBoxButton" Content="Add task" Grid.Column="2" Width="80" Height="26" Margin="0,0,8,0" Click="addTaskFromComboBoxButton_Click"/>
            <CheckBox x:Name="doWithoutDelayCheckbox" Content="No delay" Grid.Column="3" VerticalAlignment="Center" Checked="doWithoutDelayCheckbox_Checked"/>
        </Grid>

        <!-- Row 2: FullTasks Grid and Controls -->
        <Grid Grid.Row="2" Margin="0,0,0,8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="280"/>
            </Grid.ColumnDefinitions>

            <DataGrid x:Name="fullTasksDataGrid" Grid.Column="0" Margin="0,0,8,0" AutoGeneratingColumn="fullTasksDataGrid_AutoGeneratingColumn"/>

            <StackPanel Grid.Column="1" Orientation="Vertical" Width="120" Margin="0,0,8,0">
                <Button x:Name="addNewButtonName" Content="Add empty task" Height="28" Margin="0,0,0,4" Click="addNewButtonName_Click"/>
                <Button x:Name="copyTaskButton" Content="Copy task" Height="28" Margin="0,0,0,4" Click="copyTaskButton_Click"/>
                <Button x:Name="startTaskButton" Content="Start" Height="40" Margin="0,0,0,4" Click="startTaskButton_Click" Background="#FF90EE90"/>
                <Button Content="Stop" Height="80" Click="Button_Click" Background="#FFFF6B6B"/>
            </StackPanel>

            <Border Grid.Column="2" BorderBrush="#FFCCCCCC" BorderThickness="1" Background="#FFFFFFFF">
                <TextBlock x:Name="logTextBox" TextWrapping="Wrap" Padding="8"/>
            </Border>
        </Grid>

        <!-- Row 3: Search and MouseAction controls -->
        <Grid Grid.Row="3" Margin="0,0,0,8">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="200"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <Label Content="Search:" Grid.Column="0" VerticalAlignment="Center" Margin="0,0,4,0"/>
            <TextBox x:Name="overTaskNameSearchBox" Grid.Column="1" Height="23" Margin="0,0,16,0"
                     TextInput="overTaskNameSearchBox_TextInput" TextChanged="overTaskNameSearchBox_TextChanged"/>
            <Label Content="C: base point, V: rectangle point" Grid.Column="2" VerticalAlignment="Center" Foreground="Gray"/>
            <Button x:Name="addMouseActionButton" Content="Add action" Grid.Column="3" Width="90" Height="26" Margin="0,0,8,0" Click="addMouseActionButton_Click"/>
            <TextBlock x:Name="waitTimeLogBox" Grid.Column="4" Width="100" VerticalAlignment="Center" TextWrapping="Wrap"/>
        </Grid>

        <!-- Row 4: MouseActions DataGrid -->
        <DataGrid x:Name="mouseActionsDataGrid" Grid.Row="4" AutoGeneratingColumn="mouseActionsDataGrid_AutoGeneratingColumn" AutoGeneratedColumns="mouseActionsDataGrid_AutoGeneratedColumns"/>
    </Grid>
</UserControl>
